(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[13],{1121:function(e,a,t){"use strict";t.d(a,"b",(function(){return c})),t.d(a,"f",(function(){return o})),t.d(a,"g",(function(){return s})),t.d(a,"a",(function(){return i})),t.d(a,"d",(function(){return u})),t.d(a,"c",(function(){return d})),t.d(a,"e",(function(){return m}));var n=t(37),l=t.n(n),r="https://api.thecrmnetwork.com";function c(){return l.a.get("".concat(r,"/").concat("api/account"))}function o(e){return l.a.post("".concat(r,"/").concat("api/account"),e)}function s(e){return l.a.patch("".concat(r,"/").concat("api/account"),e)}function i(e){return l.a.delete("".concat(r,"/").concat("api/account","/").concat(e))}function u(){return l.a.get("".concat(r,"/").concat("api/config/industry"))}function d(){return l.a.get("".concat(r,"/").concat("api/config/industry"))}function m(e){return l.a.get("".concat(r,"/").concat("api/Lead/TableView/Business","/").concat(e))}},1126:function(e,a,t){"use strict";t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return o})),t.d(a,"d",(function(){return s})),t.d(a,"b",(function(){return i}));var n=t(37),l=t.n(n),r="https://api.thecrmnetwork.com";function c(e){return l.a.get("".concat(r,"/").concat("api/config/leadsource","/").concat(e))}function o(e){return l.a.post("".concat(r,"/").concat("api/config/leadsource"),e)}function s(e){return l.a.patch("".concat(r,"/").concat("api/config/leadsource"),e)}function i(e){return l.a.delete("".concat(r,"/").concat("api/config/leadsource","/").concat(e))}},1141:function(e,a,t){"use strict";t.d(a,"c",(function(){return c})),t.d(a,"b",(function(){return o})),t.d(a,"e",(function(){return s})),t.d(a,"f",(function(){return i})),t.d(a,"a",(function(){return u})),t.d(a,"d",(function(){return d}));var n=t(37),l=t.n(n),r="https://api.thecrmnetwork.com";function c(){return l.a.get("".concat(r,"/").concat("api/lead/tableview"))}function o(e){return l.a.get("".concat(r,"/").concat("api/lead","/").concat(e))}function s(e){return l.a.post("".concat(r,"/").concat("api/lead"),e)}function i(e){return l.a.patch("".concat(r,"/").concat("api/lead"),e)}function u(e){return l.a.delete("".concat(r,"/").concat("api/lead","/").concat(e))}function d(e){var a=new FormData,t={BusinessId:e.BusinessId,leadSoruceId:e.leadSoruceId};return l.a.post("".concat(r,"/").concat("api/lead","/CsvUpload"),a,{params:t},{headers:{"Content-Type":"multipart/form-data"}})}},1142:function(e,a,t){"use strict";t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return o})),t.d(a,"d",(function(){return s})),t.d(a,"b",(function(){return i}));var n=t(37),l=t.n(n),r="https://api.thecrmnetwork.com";function c(e){return l.a.get("".concat(r,"/").concat("api/config/leadstatus","/").concat(e))}function o(e){return l.a.post("".concat(r,"/").concat("api/config/leadstatus"),e)}function s(e){return l.a.patch("".concat(r,"/").concat("api/config/leadstatus"),e)}function i(e){return l.a.delete("".concat(r,"/").concat("api/config/leadstatus","/").concat(e))}},1209:function(e,a,t){"use strict";var n=t(19),l=t(20),r=t(211),c=t(23),o=t(22),s=t(0),i=t.n(s),u=t(363),d=t(453),m=t(454),p=t(461),h=t(621),f=t(1126),b=t(25),v=function(e){Object(c.a)(t,e);var a=Object(o.a)(t);function t(e){var l;return Object(n.a)(this,t),(l=a.call(this,e)).handleSelectLeadSource=l.handleSelectLeadSource.bind(Object(r.a)(l)),l.state={leadData:[],leadSourceId:l.props.currentLeadSource.leadSourceId},l}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getLeadsSource(),this.setState({leadSourceId:this.props.currentLeadSource.leadSourceId}),console.log(this.props.businessId)}},{key:"getLeadsSource",value:function(){var e=this;Object(f.c)(this.props.businessId).then((function(a){return e.setState({leadData:a.data})})).catch((function(e){return console.log("err",e)}))}},{key:"handleSelectLeadSource",value:function(e){this.setState({leadSourceId:e.target.value}),this.props.getSelectedLeadSource(e.target.value)}},{key:"render",value:function(){return i.a.createElement(d.a,{margin:"dense",variant:"outlined",style:{width:"100%"}},i.a.createElement(m.a,{id:"labelLeadSource"},"Lead Source"),i.a.createElement(p.a,{labelId:"labelLeadSource",onChange:this.handleSelectLeadSource.bind(this),label:"Lead Source",name:"leadSourceId"},i.a.createElement(h.a,null,i.a.createElement("em",null,"Select Lead Source")),this.state.leadData.map((function(e){return i.a.createElement(h.a,{key:e.id,value:e.id},e.leadSourceName)}))))}}]),t}(i.a.Component),g=Object(b.b)((function(e){return{businessId:e.auth.user.mainRole.business.id}}))(v),E=t(34),S=t.n(E),N=t(84),y=t(1142),L=function(e){Object(c.a)(t,e);var a=Object(o.a)(t);function t(e){var l;return Object(n.a)(this,t),(l=a.call(this,e)).getLeadStatusList=Object(N.a)(S.a.mark((function e(){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)(l.props.businessId);case 2:a=e.sent,l.setState({leadStatusList:a.data});case 4:case"end":return e.stop()}}),e)}))),l.handleSelectLeadStatus=l.handleSelectLeadStatus.bind(Object(r.a)(l)),l.state={leadData:[],leadStatusId:l.props.currentLeadStatus.leadStatusId,listStatusList:[]},l}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({leadStatusId:this.props.currentLeadStatus.leadStatusId}),this.getLeadStatusList()}},{key:"handleSelectLeadStatus",value:function(e){this.setState({leadStatusId:e.target.value}),this.props.getSelectedLeadStatus(e.target.value)}},{key:"render",value:function(){var e,a;return i.a.createElement(d.a,{margin:"dense",variant:"outlined",style:{width:"100%"}},i.a.createElement(m.a,{id:"labelLeadStatus"},"Lead Status"),i.a.createElement(p.a,{labelId:"labelLeadSource",onChange:this.handleSelectLeadStatus.bind(this),label:"Lead Status",name:"leadStatusId"},i.a.createElement(h.a,{value:"0"},i.a.createElement("em",null,"Select Lead Status")),null===(e=this.state)||void 0===e||null===(a=e.leadStatusList)||void 0===a?void 0:a.map((function(e){return console.log(e),i.a.createElement(h.a,{key:e.id,value:e.id},e.leadStatusName)}))))}}]),t}(i.a.Component),I=t(1141),C=t(50),k=t(444),O=t(490),j=function(e){Object(c.a)(t,e);var a=Object(o.a)(t);function t(e){var l;Object(n.a)(this,t),l=a.call(this,e);var c=new Date;return l.state={firstName:"",leadSourceId:"4PDvakaYzWg.",companyName:"",ssn:"",equiment:"",email:"",phone:"",description:"",lastName:"",leadStatusId:"JR1zcprJkUs.",estimatedtBilling:"",isdcode:"",mobile:"",note:"",receivedDate:c.toISOString()},l.handleChange=l.handleChange.bind(Object(r.a)(l)),l.handleReceivedDate=l.handleReceivedDate.bind(Object(r.a)(l)),l.handleSelectLeadSource=l.handleSelectLeadSource.bind(Object(r.a)(l)),l.handleSelectLeadStatus=l.handleSelectLeadStatus.bind(Object(r.a)(l)),l}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.leadsourceId;"undefined"!==typeof a&&Object(I.b)(a).then((function(a){var t=a.data;e.setState(t)})).catch((function(e){return console.log(e)}))}},{key:"handleChange",value:function(e){if("details"!==this.props.modalType){var a=e.target.name,t=this.state;t[a]=e.target.value,this.setState(t),this.props.getFormData(t)}}},{key:"handleReceivedDate",value:function(e){if("details"!==this.props.modalType){var a=this.state;a.receivedDate=e.toISOString(),this.setState(a),this.props.getFormData(a)}}},{key:"handleSelectLeadSource",value:function(e){if("details"!==this.props.modalType){var a=this.state;a.leadSourceId=e,this.setState(a),this.props.getFormData(a)}}},{key:"handleSelectLeadStatus",value:function(e){if("details"!==this.props.modalType){var a=this.state;this.setState(a),this.props.getFormData(a)}}},{key:"render",value:function(){return i.a.createElement("form",{autoComplete:"off"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"First name",variant:"outlined",className:"kt-width-full",name:"firstName",value:this.state.firstName,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0",style:{paddingTop:"16px",paddingBottom:"8px"}},i.a.createElement(g,{currentLeadSource:{leadSourceId:this.state.leadSourceId},getSelectedLeadSource:this.handleSelectLeadSource,leadSource:this.props.leadSource})),i.a.createElement("div",{className:"form-group mb-1"},i.a.createElement(u.a,{margin:"normal",label:"Company Name",variant:"outlined",className:"kt-width-full",name:"companyName",value:this.state.companyName,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"SSN",variant:"outlined",className:"kt-width-full",name:"ssn",value:this.state.ssn,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"Equiment",variant:"outlined",className:"kt-width-full",name:"equiment",value:this.state.equiment,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"Email",variant:"outlined",className:"kt-width-full",name:"email",value:this.state.email,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"Phone",variant:"outlined",className:"kt-width-full",name:"phone",value:this.state.phone,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"Description",variant:"outlined",multiline:!0,rows:"4",className:"kt-width-full",name:"description",value:this.state.description,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"Last name",variant:"outlined",className:"kt-width-full",name:"lastName",value:this.state.lastName,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement(d.a,{margin:"dense",style:{width:"100%"}},i.a.createElement("div",{className:"form-group mb-0",style:{paddingTop:"0px",paddingBottom:"0px",marginBottom:"0px"}},i.a.createElement(C.a,{utils:O.default},i.a.createElement(k.b,{margin:"normal",id:"receivedDate",name:"receivedDate",label:"Lead Receive Date",format:"MM-dd-yyyy",value:this.state.receivedDate,onChange:this.handleReceivedDate,KeyboardButtonProps:{"aria-label":"change date"},style:{paddingTop:"0px",paddingBottom:"0 px"}})))),i.a.createElement("div",{className:"form-group mb-0",style:{paddingTop:"0px",paddingBottom:"8px"}},i.a.createElement(L,{currentLeadStatus:{leadStatusId:this.state.leadStatusId},getSelectedLeadStatus:this.handleSelectLeadStatus,businessId:this.props.businessId})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"Number of location",variant:"outlined",className:"kt-width-full",name:"noOfLocation",type:"number",value:this.state.number,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"Estimated Billing",variant:"outlined",className:"kt-width-full",name:"estimatedtBilling",value:this.state.estimatedtBilling,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"ISD Code",variant:"outlined",className:"kt-width-full",name:"isdcode",value:this.state.isdcode,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"ISD Code",variant:"outlined",className:"kt-width-full",name:"mobile",value:this.state.mobile,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})),i.a.createElement("div",{className:"form-group mb-0"},i.a.createElement(u.a,{margin:"normal",label:"Notes",variant:"outlined",multiline:!0,rows:"4",className:"kt-width-full",name:"note",value:this.state.note,onChange:this.handleChange,fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"})))))}}]),t}(i.a.Component);a.a=j},1433:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(189),c=t(54),o=t(215),s=t(25),i=t(345),u=t(363),d=t(453),m=t(454),p=t(461),h=t(621),f=t(115),b=t(110),v=t(1121);var g=Object(i.c)(Object(s.b)(null,b.a)((function(e){var a=e.intl,t=Object(f.a)((function(e){return{formControl:{marginTop:16,marginBottom:8,minWidth:"100%"}}})),n=function(e){y(e.target.value)},r=function(e){R(e.target.value)},s=function(e){k(e.target.value)},i=function(e){D(e.target.value)},b=function(e){x(e.target.value)},g=function(e){M(e.target.value)},E=l.a.useState(""),S=Object(c.a)(E,2),N=S[0],y=S[1],L=l.a.useState(""),I=Object(c.a)(L,2),C=I[0],k=I[1],O=l.a.useState(""),j=Object(c.a)(O,2),w=j[0],D=j[1],T=l.a.useState(""),B=Object(c.a)(T,2),A=B[0],x=B[1],_=l.a.useState(""),z=Object(c.a)(_,2),P=z[0],R=z[1],F=l.a.useState(""),U=Object(c.a)(F,2),W=U[0],M=U[1],H=t();return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid"},l.a.createElement("div",{className:"kt-portlet"},l.a.createElement("div",{className:"kt-portlet__head"},l.a.createElement("div",{className:"kt-portlet__head-label"},l.a.createElement("h3",{className:"kt-portlet__head-title"},"Account Details"))),l.a.createElement(o.a,{initialValues:{email:"",fullname:"",username:"",businessName:"",password:"",acceptTerms:!0,confirmPassword:""},validate:function(e){var t={};return e.accountName||(t.accountName=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),e.phone||(t.phone=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),e.website||(t.website=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),e.addressLine||(t.addressLine=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),e.zipCode||(t.zipCode=a.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),t},onSubmit:function(a,t){var n=t.setStatus,l=t.setSubmitting;Object(v.f)({}).then((function(a){var t=a.data.accessToken;e.register(t)})).catch((function(){l(!1),n("Invalid Registration")}))}},(function(e){var a=e.values,t=e.status,c=e.errors,o=e.touched,f=e.handleChange,v=e.handleBlur,E=e.handleSubmit,S=e.isSubmitting;return l.a.createElement("form",{className:"kt-form kt-form--label-right",onSubmit:E,noValidate:!0,autoComplete:"off"},l.a.createElement("div",{className:"form-body"},l.a.createElement("div",{className:"kt-portlet__body"},t&&l.a.createElement("div",{className:"form-group form-group-last"},l.a.createElement("div",{className:"alert alert-secondary",role:"alert"},l.a.createElement("div",{className:"alert-icon"},l.a.createElement("i",{className:"flaticon-warning kt-font-brand"})),l.a.createElement("div",{className:"alert-text"},t))),l.a.createElement("div",{className:"kt-portlet__head"},l.a.createElement("div",{className:"kt-portlet__head-label"},l.a.createElement("h3",{className:"kt-portlet__head-title"},"Account Info"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement(u.a,{margin:"normal",label:"Account Name",className:"kt-width-full",name:"accountName",onBlur:v,onChange:f,value:a.accountName,helperText:o.accountName&&c.accountName,error:Boolean(o.accountName&&c.accountName)})),l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement(u.a,{margin:"normal",label:"Phone Number",className:"kt-width-full",name:"phone",onBlur:v,onChange:f,value:a.phone,helperText:o.phone&&c.phone,error:Boolean(o.phone&&c.phone)})),l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement(u.a,{margin:"normal",label:"Website",className:"kt-width-full",name:"website",onBlur:v,onChange:f,value:a.website,helperText:o.website&&c.website,error:Boolean(o.website&&c.website)}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement(d.a,{className:H.formControl},l.a.createElement(m.a,{id:"labelIndustry"},"Industry"),l.a.createElement(p.a,{labelId:"labelIndustry",name:"industryId",value:N,onChange:n},l.a.createElement(h.a,{value:""},l.a.createElement("em",null,"Select Parent Account")),l.a.createElement(h.a,{value:"investor"},"Investor"),l.a.createElement(h.a,{value:"other"},"Other"),l.a.createElement(h.a,{value:"partner"},"Partner"),l.a.createElement(h.a,{value:"press"},"Press"),l.a.createElement(h.a,{value:"prospect"},"Prospect"),l.a.createElement(h.a,{value:"reseller"},"Reseller")))),l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement(d.a,{className:H.formControl},l.a.createElement(m.a,{id:"labelParentAccount"},"Parent Account"),l.a.createElement(p.a,{labelId:"labelParentAccount",name:"parentAccountId",value:P,onChange:r},l.a.createElement(h.a,{value:""},l.a.createElement("em",null,"Select Industry"))))),l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement(d.a,{className:H.formControl},l.a.createElement(m.a,{id:"labelAccountType"},"Account Type"),l.a.createElement(p.a,{labelId:"labelAccountType",value:W,onChange:g},l.a.createElement(h.a,{value:""},l.a.createElement("em",null,"Select Account Type")),l.a.createElement(h.a,{value:"analyst"},"Analyst"),l.a.createElement(h.a,{value:"competitor"},"Competitor"),l.a.createElement(h.a,{value:"customer"},"Customer"),l.a.createElement(h.a,{value:"distribtor"},"Distribtor"),l.a.createElement(h.a,{value:"integrator"},"Integrator")))))),l.a.createElement("div",{className:"kt-portlet__head"},l.a.createElement("div",{className:"kt-portlet__head-label"},l.a.createElement("h3",{className:"kt-portlet__head-title"},"Address Info"))),l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement(u.a,{margin:"normal",label:"Address Line",className:"kt-width-full",name:"addressLine",onBlur:v,onChange:f,value:a.addressLine,helperText:o.addressLine&&c.addressLine,error:Boolean(o.addressLine&&c.addressLine)})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement(d.a,{className:H.formControl},l.a.createElement(m.a,{id:"labelCountry"},"Country"),l.a.createElement(p.a,{labelId:"labelCountry",name:"country",value:C,onChange:s},l.a.createElement(h.a,{value:""},l.a.createElement("em",null,"Select Country")))),l.a.createElement(d.a,{className:H.formControl},l.a.createElement(m.a,{id:"labelState"},"State"),l.a.createElement(p.a,{labelId:"labelState",name:"state",value:A,onChange:b},l.a.createElement(h.a,{value:""},l.a.createElement("em",null,"Select State"))))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement(d.a,{className:H.formControl},l.a.createElement(m.a,{id:"labelCity"},"City"),l.a.createElement(p.a,{labelId:"labelCity",name:"city",value:w,onChange:i},l.a.createElement(h.a,{value:""},l.a.createElement("em",null,"Select City"))))),l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement(u.a,{margin:"normal",label:"Zip Code",className:"kt-width-full",name:"zipCode",onBlur:v,onChange:f,value:a.zipCode,helperText:o.zipCode&&c.zipCode,error:Boolean(o.zipCode&&c.zipCode)}))))),l.a.createElement("div",{className:"kt-portlet__body"},l.a.createElement("div",{className:"form-actions"},l.a.createElement("button",{disabled:S||!a.acceptTerms,className:"btn btn-primary btn-elevate"},"Register")))))}))))))}))),E=t(34),S=t.n(E),N=t(84),y=t(475),L=t.n(y),I=t(1141),C=t(1126),k=t(209),O=t(388),j=function(e){return l.a.createElement("div",null,l.a.createElement(O.a,{dialogClassName:"modal-90w",show:e.handleOpen,onHide:e.handleClose,size:e.modalSize,centered:!0},l.a.createElement(O.a.Header,{closeButton:!0},l.a.createElement(O.a.Title,null,e.modalTitle)),l.a.createElement(O.a.Body,null,e.modalBody,e.modalFooter)))},w=t(1209),D=t(19),T=t(20),B=t(211),A=t(23),x=t(22),_=function(e){Object(A.a)(t,e);var a=Object(x.a)(t);function t(e){var n;Object(D.a)(this,t),(n=a.call(this,e)).handleButton1=n.handleButton1.bind(Object(B.a)(n)),n.handleButton2=n.handleButton2.bind(Object(B.a)(n));var l=n.props.buttonDisplayType,r="CLOSE",c="block";return"DELETE"===n.props.buttonDisplayType&&(l="YES",r="NO"),"DETAILS"===n.props.buttonDisplayType&&(c="none"),n.state={labelButton1:l,labelButton2:r,showButton1:c},n}return Object(T.a)(t,[{key:"handleButton1",value:function(e){this.props.handleButton1()}},{key:"handleButton2",value:function(){this.props.handleButton2()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-primary btn-elevate",onClick:this.handleButton1.bind(this),style:{display:this.state.showButton1}},this.state.labelButton1))}}]),t}(l.a.Component),z=t(1101),P=t(1102),R=t(293),F=(t(683),function(e){var a=Object(n.useState)([]),t=Object(c.a)(a,2),r=t[0],o=t[1],s=Object(n.useState)(""),i=Object(c.a)(s,2),u=i[0],f=i[1],b=Object(n.useState)(null),v=Object(c.a)(b,2),g=v[0],E=v[1];Object(n.useEffect)((function(){(function(){var a=Object(N.a)(S.a.mark((function a(){var t;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(C.c)(e.id);case 2:t=a.sent,o(t.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[]);var y=function(){var a=Object(N.a)(S.a.mark((function a(t){var n,l;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n={file:g,leadSoruceId:u,BusinessId:e.id},a.prev=2,a.next=5,Object(I.d)(n);case 5:l=a.sent,e.importLeadSubmitHandler(l),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),e.importLeadSubmitHandler(!1);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{margin:"dense",variant:"outlined",style:{width:"100%"}},l.a.createElement(m.a,{id:"labelLeadSource"},"Lead Source"),l.a.createElement(p.a,{labelId:"labelLeadSource",value:u,onChange:function(e){f(e.target.value)},label:"Lead Source",name:"leadSourceId"},l.a.createElement(h.a,null,l.a.createElement("em",null,"Select Lead Source")),r.map((function(e){return l.a.createElement(h.a,{key:e.id,value:e.id},e.leadSourceName)}))),l.a.createElement("input",{accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",style:{display:"none"},id:"contained-button-file",type:"file",onChange:function(e){e.preventDefault(),E(e.target.files[0])}}),l.a.createElement("label",{htmlFor:"contained-button-file"},l.a.createElement(k.a,{variant:"outlined",color:"secondary",component:"span",className:"mb-2",size:"large",style:{marginTop:"10px"}},"Upload File")," ",g?g.name:""),"Please upload csv to import leads"),l.a.createElement(k.a,{variant:"contained",color:"secondary",component:"span",className:"mb-2",size:"large",style:{marginTop:"10px"},onClick:y},"Import"))}),U={},W=function(){var e=Object(n.useState)(0),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(0),i=Object(c.a)(o,2),u=i[0],d=i[1],m=Object(s.e)((function(e){return e.auth.user})),p=Object(n.useState)(!1),h=Object(c.a)(p,2),f=h[0],b=h[1],v=Object(n.useState)(""),g=Object(c.a)(v,2),E=g[0],y=g[1],O=Object(n.useState)(""),D=Object(c.a)(O,2),T=D[0],B=D[1],A=Object(n.useState)(""),x=Object(c.a)(A,2),W=x[0],M=x[1],H=Object(n.useState)("s"),V=Object(c.a)(H,2),Q=V[0],q=V[1],J=function(){return b(!1)},Y=Object(n.useState)(!1),K=Object(c.a)(Y,2),Z=K[0],G=K[1],X=function(e){e.success?R.b.success(e.message):R.b.error(e.message)};Object(n.useEffect)((function(){(function(){var e=Object(N.a)(S.a.mark((function e(){var a,t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.c)();case 2:return a=e.sent,e.next=5,Object(C.c)(m.mainRole.business.id);case 5:t=e.sent,d(t.data),r({columns:[{title:"Company name",field:"companyName"},{title:"First name",field:"firstName"},{title:"Last name",field:"lastName"},{title:"Phone",field:"phoneNumber"},{title:"Action",field:"actions",width:200,render:function(e){return l.a.createElement(z.a,null,l.a.createElement(P.a,null,l.a.createElement(k.a,{variant:"contained",color:"secondary",title:e.id,onClick:function(){return te(e.id)}},"UPDATE")),l.a.createElement(P.a,null,l.a.createElement(k.a,{variant:"contained",onClick:function(){Object(I.a)(e.id),G(!Z)}},"DELETE")))}}],data:a.data});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[Z]);var $=function(){U!=={}?(U.businessId=m.mainRole.business.id,Object(I.e)(U).then((function(e){G(!Z),b(!1),X({success:!0,message:"Success adding leads."})})).catch((function(e){return console.log(e)}))):b(!1)},ee=function(){U!=={}?Object(I.f)(U).then((function(e){G(!Z),b(!1),X({success:!0,message:"Success updating leads."})})).catch((function(e){return console.log(e)})):b(!1)},ae=function(e){U=e},te=function(e){U={},b(!0),q("lg"),y("Update Lead"),B(l.a.createElement(w.a,{modalType:"add",getFormData:ae,leadSource:u})),M(l.a.createElement(_,{buttonDisplayType:"UPDATE",handleButton1:ee,handleButton2:J}))},ne=function(e){b(!1),X(e?{success:!0,message:"Success importing leads."}:{success:!1,message:"Error on importing leads"})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,null),l.a.createElement(k.a,{className:"mb-2",variant:"contained",color:"secondary",size:"large",onClick:function(){U={},b(!0),q("lg"),y("Add Lead"),B(l.a.createElement(w.a,{modalType:"add",getFormData:ae,businessId:m.mainRole.business.id,leadSource:u})),M(l.a.createElement(_,{buttonDisplayType:"CONFIRM",handleButton1:$,handleButton2:J}))}},"Add"),l.a.createElement(k.a,{className:"mb-2",variant:"outlined",color:"secondary",size:"large",onClick:function(){return U={},b(!0),q("lg"),y("Update Lead"),void B(l.a.createElement(F,{id:m.mainRole.business.id,modalType:"add",importLeadSubmitHandler:ne}))},style:{marginLeft:"10px"}},"Import Leads"),l.a.createElement(L.a,{title:"Leads",columns:t.columns,data:t.data}),l.a.createElement(j,{handleClose:J,handleOpen:f,modalSize:Q,modalTitle:E,modalBody:T,modalFooter:W}))};function M(){return l.a.createElement(r.g,null,l.a.createElement(r.c,{exact:!0,from:"/",to:"/leads"}),l.a.createElement(r.d,{path:"/leads/register",component:g}),l.a.createElement(r.d,{path:"/leads",component:W}))}t.d(a,"default",(function(){return M}))}}]);
//# sourceMappingURL=13.20c1d744.chunk.js.map