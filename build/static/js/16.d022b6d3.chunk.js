(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[16],{1121:function(e,t,a){"use strict";var n=a(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,n(a(1117)).default)(c.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=r},1125:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return d}));var n=a(39),c=a.n(n),r=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL;function o(e){return c.a.get("".concat(r,"/").concat("api/config/leadsource","/").concat(e))}function u(e){return c.a.post("".concat(r,"/").concat("api/config/leadsource"),e)}function i(e){return c.a.patch("".concat(r,"/").concat("api/config/leadsource"),e)}function l(e){return c.a.delete("".concat(r,"/").concat("api/config/leadsource","/").concat(e))}function s(e){return c.a.post("".concat(r,"/").concat("api/config/leadsource/assign"),e)}function d(e){return c.a.get("".concat(r,"/").concat("api/config/leadsource/users","/").concat(e))}},1367:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(193),o=a(78),u=a(45),i=a(37),l=a.n(i),s=a(87),d=a(44),m=a(1125),f=(a(298),a(1189)),b=a(1355),p=a(216),v=a(392),h=a(365),O=a(632),j=a(645),E=a(1103),g=a(1104),k=a(1075),S=a(1105),x=function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement(E.a,null,c.a.createElement(g.a,null,c.a.createElement(k.a,{xs:12},c.a.createElement(S.a,{className:"mb-4"},c.a.createElement(h.a,{onChange:e.handleChange,id:"leadSourceName",label:"Source Name",className:"",value:e.data.leadSourceName,variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},size:"small"}))),c.a.createElement(k.a,{xs:4},c.a.createElement(O.a,{control:c.a.createElement(j.a,{checked:e.data.active,onChange:e.handleChangeActive,id:"active",color:"primary"}),label:"Active"})),c.a.createElement(k.a,{xs:12},c.a.createElement(S.a,null,c.a.createElement(p.a,{type:"submit",size:"large",className:"float-right",variant:"contained",color:"primary",onClick:function(t){e.handleSubmit(t)}},"Confirm"))))))},C=a(23),y=a(1121),N=a.n(y),w=a(1119),A=a.n(w),I=Object(C.b)((function(e){return{businessId:e.auth.user.mainRole.business.id,userId:e.auth.user.id}}))((function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),r=a[0],i=a[1],h=Object(n.useState)(!1),O=Object(d.a)(h,2),j=O[0],E=O[1],S=Object(n.useState)(!1),C=Object(d.a)(S,2),y=C[0],w=C[1],I=Object(n.useState)(!1),z=Object(d.a)(I,2),L=z[0],_=z[1],P=Object(n.useState)({id:"",leadSourceName:"",active:!0}),R=Object(d.a)(P,2),U=R[0],D=R[1],M=Object(n.useState)(!1),F=Object(d.a)(M,2),J=F[0],V=F[1],B=Object(n.useState)([]),K=Object(d.a)(B,2),T=K[0],W=K[1],q=Object(n.useState)({}),G=Object(d.a)(q,2),H=G[0],Q=G[1],X=Object(n.useState)(""),Y=Object(d.a)(X,2),Z=Y[0],$=Y[1];Object(n.useEffect)((function(){(function(){var t=Object(s.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.d)(e.businessId);case 2:a=t.sent,n=[],a.data.reverse().map((function(e){e.isDeleted||n.push(e)})),i({columns:[{title:"Action",field:"actions",width:300,render:function(e){return c.a.createElement(g.a,null,c.a.createElement(k.a,{md:4},c.a.createElement(p.a,{variant:"contained",color:"secondary",size:"small",title:e.id,onClick:function(){D(e),_(!0),E(!0)}},c.a.createElement(N.a,null))),c.a.createElement(k.a,{md:4},c.a.createElement(p.a,{variant:"contained",size:"small",className:"btn-danger",onClick:Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.c)(e.id);case 2:V(!J);case 3:case"end":return t.stop()}}),t)})))},c.a.createElement(A.a,null))),c.a.createElement(k.a,{md:4},c.a.createElement(p.a,{variant:"contained",size:"small",color:"primary",onClick:Object(s.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.e)(e.id);case 2:a=t.sent,W(a.data),n={},a.data.map((function(e){e.isAssign&&(n=Object(u.a)({},n,Object(o.a)({},e.id,!0)))})),Q(n),console.log(n),w(!0),$(e.id),V(!J);case 11:case"end":return t.stop()}}),t)})))},"Assign")))}},{title:"Source Name",dataIndex:"leadSourceName"},{title:"Is Active?",render:function(e){return e.active?"true":"false"}},{title:"Assigned",render:function(e){return"".concat(e.assignedUser)}}],data:n});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var ee=function(){E(!1),w(!1)},te=function(){var t=Object(s.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=Object(u.a)({},U,{businessId:e.businessId}),!L){t.next=11;break}return t.prev=3,t.next=6,Object(m.f)(n);case 6:t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:if(L){t.next=20;break}return t.prev=12,t.next=15,Object(m.a)(n);case 15:t.sent,t.next=20;break;case 18:t.prev=18,t.t1=t.catch(12);case 20:E(!1),V(!J);case 22:case"end":return t.stop()}}),t,null,[[3,9],[12,18]])})));return function(e){return t.apply(this,arguments)}}(),ae=function(e){e.target.checked?Q(Object(u.a)({},H,Object(o.a)({},e.target.name,e.target.checked))):delete H[e.target.name]},ne=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],console.log(H),Object.keys(H).map((function(e){H[e]&&a.push({leadSourceId:Z,userId:e})})),console.log(a),e.next=6,Object(m.b)(a);case 6:n=e.sent,console.log(n),V(!J),w(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{type:"leadsource",title:"Lead Source",open:j,handleClose:ee},c.a.createElement(x,{data:U,handleChange:function(e){D(Object(u.a)({},U,Object(o.a)({},e.target.id,e.target.value)))},handleSubmit:te,handleChangeActive:function(e){D(Object(u.a)({},U,{active:!U.active}))}})),c.a.createElement(v.a,{type:"assign",title:"Assign",open:y,handleClose:ee},null===T||void 0===T?void 0:T.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(f.a,{name:e.id,onChange:ae,defaultChecked:e.isAssign},e.firstName," ",e.lastName),c.a.createElement("br",null))})),c.a.createElement("br",null),c.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:ne},"Confirm")),c.a.createElement(b.a,{columns:r.columns,dataSource:r.data,rowKey:function(e){return e.id},title:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{className:"mb-2",variant:"contained",color:"secondary",size:"large",onClick:function(){E(!0)}},"Add"))}}))}));function z(){return c.a.createElement(r.g,null,c.a.createElement(r.c,{exact:!0,from:"/",to:"/lead-source"}),c.a.createElement(r.d,{path:"/lead-source",component:I}))}a.d(t,"default",(function(){return z}))}}]);
//# sourceMappingURL=16.d022b6d3.chunk.js.map