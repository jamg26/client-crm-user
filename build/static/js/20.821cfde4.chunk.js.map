{"version":3,"sources":["app/pages/home/myaccount/passwordcomponents/ViewComponent.js","app/pages/home/myaccount/password.js"],"names":["ViewComponent","clearValidation","error","clearFormData","oldPassword","newPassword","confirmPassword","useState","formData","setformData","validation","setValidation","handleChange","e","target","name","value","validateData","errorMessage","length","className","oValidate","autoComplete","TextField","margin","label","type","onChange","helperText","to","Button","size","variant","color","onClick","changePassword","then","data","result","success","toast","message","notify","catch","Business","exact","from","path","component","viewPassword"],"mappings":"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","file":"static/js/20.821cfde4.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { getUserByToken} from '../../../../services/user.service';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Button, TextField, FormControl } from \"@material-ui/core\";\r\nimport { changePassword } from '../../../../services/user.service';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ViewComponent = () => {\r\n\r\n\tconst notify = data => {\r\n\t    if (data.success) {\r\n\t      \ttoast.success(data.message);\r\n\t    } else {\r\n\t      \ttoast.error(data.message);\r\n\t    }\r\n\t}\r\n\r\n\tconst clearValidation = {\r\n \t\terror: false\r\n \t}\r\n\r\n \tconst clearFormData = {\r\n \t\toldPassword: '',\r\n \t\tnewPassword: '',\r\n \t\tconfirmPassword: ''\r\n \t}\r\n\r\n \tconst [formData, setformData] = useState(clearFormData);\r\n \tconst [validation, setValidation] = useState(clearValidation)\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetformData({\r\n\t\t\t...formData,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tconst handleChangePassword = (e) => {\r\n\t\tif (validateData()) {\r\n   \t\t\tchangePassword(formData)\r\n                .then( (data ) => {\r\n                \tif (data.data.result === 'Password did not match') {\r\n                \t\tsetValidation({oldPassword : {\r\n\t\t\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\t\t\terrorMessage: 'Incorrect password.'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n                \t} else  {\r\n                \t\tnotify({ success: true, message: 'Changing password successful.' });\r\n                \t\tsetformData(clearFormData)\r\n                \t}\r\n\r\n                }).catch(() => {});\r\n\t\t}\r\n\t\t\r\n\t} \r\n\r\n\tconst validateData = () => {\r\n\t\tsetValidation(clearValidation);\r\n\t\tif (formData.oldPassword === '') {\r\n\t\t\tsetValidation({oldPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'This field is required.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t} else if (formData.newPassword === '') {\r\n\t\t\tsetValidation({newPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'This field is required.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false\r\n\t\t} else if (formData.newPassword.length < 8) {\r\n\t\t\tsetValidation({newPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'New password must container atleast 8 characters.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t} else if (formData.confirmPassword === '') {\r\n\t\t\tsetValidation({confirmPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'Please confirm your password.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false\r\n\t\t} else if (formData.newPassword !== formData.confirmPassword) {\r\n\t\t\tsetValidation({confirmPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'Confirm password did not match.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\t\t\r\n\r\n\treturn (\r\n\t\t<div className=\"row\">\r\n\t\t\t<ToastContainer />\r\n\t\t    <div className=\"col-md-6\">\r\n\t\t        <div className=\"kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid\">\r\n\t\t          \t<div className=\"kt-portlet\">\r\n\t\t            \t<div className=\"kt-portlet__head\">\r\n\t\t              \t\t<div className=\"kt-portlet__head-label\">\r\n\t\t                \t\t<h3 className=\"kt-portlet__head-title\">\r\n\t\t                  \t\t\tChange Password\r\n\t\t                \t\t</h3>\r\n\t\t              \t\t</div>\r\n\t\t            \t</div>\r\n\r\n\t\t            \t<form className=\"kt-form kt-form--label-right\" oValidate autoComplete=\"off\">\r\n\t\t            \t\t<div className=\"form-body\">\r\n\t\t            \t\t\t<div className=\"kt-portlet__body\">\r\n\t\t                        \t<div className=\"form-group mb-4\">\r\n\t\t                          \t\t<TextField\r\n\t\t\t\t                          \tmargin=\"normal\"\r\n\t\t\t\t                            label=\"Old Password\"\r\n\t\t\t\t                            className=\"kt-width-full\"\r\n\t\t\t\t                            name=\"oldPassword\"\r\n\t\t\t\t                            type=\"password\"\r\n\t\t\t\t                            onChange={handleChange}\r\n\t\t\t\t                            value={formData?.oldPassword}\r\n\t\t\t\t                            helperText={validation?.oldPassword?.errorMessage}\r\n\t\t\t\t                            error={validation?.oldPassword?.error}\r\n\t\t\t\t                         />\r\n\t\t\t\t                    </div>\r\n\t\t\t\t                    <div className=\"form-group mb-4\">\r\n\t\t                          \t\t<TextField\r\n\t\t\t\t                          \tmargin=\"normal\"\r\n\t\t\t\t                            label=\"New Password\"\r\n\t\t\t\t                            className=\"kt-width-full\"\r\n\t\t\t\t                            name=\"newPassword\"\r\n\t\t\t\t                            type=\"password\"\r\n\t\t\t\t                            onChange={handleChange}\r\n\t\t\t\t                            value={formData?.newPassword}\r\n\t\t\t\t                            helperText={validation?.newPassword?.errorMessage}\r\n\t\t\t\t                            error={validation?.newPassword?.error}\r\n\t\t\t\t                         />\r\n\t\t\t\t                    </div>\r\n\t\t\t\t                    <div className=\"form-group mb-4\">\r\n\t\t                          \t\t<TextField\r\n\t\t\t\t                          \tmargin=\"normal\"\r\n\t\t\t\t                            label=\"Confirm Password\"\r\n\t\t\t\t                            className=\"kt-width-full\"\r\n\t\t\t\t                            name=\"confirmPassword\"\r\n\t\t\t\t                            type=\"password\"\r\n\t\t\t\t                            onChange={handleChange}\r\n\t\t\t\t                            value={formData?.confirmPassword}\r\n\t\t\t\t                            helperText={validation?.confirmPassword?.errorMessage}\r\n\t\t\t\t                            error={validation?.confirmPassword?.error}\r\n\t\t\t\t                         />\r\n\t\t\t\t                    </div>\r\n\t\t\t\t                    \r\n\t\t\t\t                </div>\r\n\t\t            \t\t</div>\r\n\t\t            \t</form>\r\n\r\n\t\t            \t<div className=\"kt-portlet__body\">\r\n\t\t            \t\t<div className=\"row\">\r\n\t\t            \t\t\t<div className=\"col-md-6\"></div>\r\n\t\t            \t\t\t<div className=\"col-md-2\">\r\n\t\t\t\t            \t\t<div className=\"form-group mb-4\">\r\n\t\t\t\t            \t\t\t<Link\r\n                  \t\t\t\t\t\t\tto=\"/dashboard\"\r\n                  \t\t\t\t\t\t>\r\n\t\t\t\t\t                     \t<Button\r\n\t\t\t\t\t\t                        type='submit'\r\n\t\t\t\t\t\t                        size='large'\r\n\t\t\t\t\t\t                        className='float-right'\r\n\t\t\t\t\t\t                        variant='contained'\r\n\t\t\t\t\t\t                        color='default'\r\n\t\t\t\t\t\t                    >\r\n\t\t\t\t\t\t                        CANCEL\r\n\t\t\t\t\t\t                    </Button>\r\n\t\t\t\t\t\t                </Link>\r\n\r\n\t\t\t\t                    </div>\r\n\t\t\t\t                </div>\r\n\t\t\t\t                <div className=\"col-md-4\">\r\n\t\t\t\t                    <div className=\"form-group mb-4\">\r\n\t\t\t\t                     \t<Button\r\n\t\t\t\t\t                        type='submit'\r\n\t\t\t\t\t                        size='large'\r\n\t\t\t\t\t                        className='float-left'\r\n\t\t\t\t\t                        variant='contained'\r\n\t\t\t\t\t                        color='primary'\r\n\t\t\t\t\t                        onClick={handleChangePassword}\r\n\t\t\t\t\t                    >\r\n\t\t\t\t\t                        CHANGE PASSWORD\r\n\t\t\t\t\t                    </Button>\r\n\t\t\t\t                    </div>\r\n\t\t\t\t                </div>\r\n\t\t\t\t            </div>\r\n\t\t            \t</div>\r\n\t\t            </div>\r\n\t\t        </div>\r\n\t\t    </div>\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\nexport default ViewComponent;","import React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport viewPassword from './passwordcomponents/ViewComponent';\r\nexport default function Business() {\r\n    return (\r\n        <Switch>\r\n\r\n            <Redirect exact={true} from=\"/\" to=\"/change-password\"/>\r\n            <Route path=\"/change-password/\" component={viewPassword} />\r\n\r\n        </Switch>\r\n    )\r\n}"],"sourceRoot":""}