{"version":3,"sources":["app/pages/home/myaccount/passwordcomponents/ViewComponent.js","app/pages/home/myaccount/password.js"],"names":["ViewComponent","clearValidation","error","clearFormData","oldPassword","newPassword","confirmPassword","useState","formData","setformData","validation","setValidation","handleChange","e","target","name","value","validateData","errorMessage","length","className","style","width","margin","background","border","padding","borderRadius","autoComplete","TextField","label","type","onChange","helperText","to","Button","size","variant","color","onClick","changePassword","then","data","result","success","toast","message","notify","catch","Business","exact","from","path","component","viewPassword"],"mappings":"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","file":"static/js/22.ddeb980a.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\n// import { makeStyles } from '@material-ui/core/styles';\r\n// import { getUserByToken} from '../../../../services/user.service';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { changePassword } from '../../../../services/user.service';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ViewComponent = () => {\r\n  const notify = data => {\r\n    if (data.success) {\r\n      toast.success(data.message);\r\n    } else {\r\n      toast.error(data.message);\r\n    }\r\n  };\r\n\r\n  const clearValidation = {\r\n    error: false\r\n  };\r\n\r\n  const clearFormData = {\r\n    oldPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: ''\r\n  };\r\n\r\n  const [formData, setformData] = useState(clearFormData);\r\n  const [validation, setValidation] = useState(clearValidation);\r\n\r\n  const handleChange = e => {\r\n    setformData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleChangePassword = e => {\r\n    if (validateData()) {\r\n      changePassword(formData)\r\n        .then(data => {\r\n          if (data.data.result === 'Password did not match') {\r\n            setValidation({\r\n              oldPassword: {\r\n                error: true,\r\n                errorMessage: 'Incorrect password.'\r\n              }\r\n            });\r\n          } else if (data.data.result === 'Incorrect password.') {\r\n            setValidation({\r\n              oldPassword: {\r\n                error: true,\r\n                errorMessage: 'Incorrect password.'\r\n              }\r\n            });\r\n          } else {\r\n            notify({ success: true, message: 'Changing password successful.' });\r\n            setformData(clearFormData);\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  };\r\n\r\n  const validateData = () => {\r\n    setValidation(clearValidation);\r\n    if (formData.oldPassword === '') {\r\n      setValidation({\r\n        oldPassword: {\r\n          error: true,\r\n          errorMessage: 'This field is required.'\r\n        }\r\n      });\r\n      return false;\r\n    } else if (formData.newPassword === '') {\r\n      setValidation({\r\n        newPassword: {\r\n          error: true,\r\n          errorMessage: 'This field is required.'\r\n        }\r\n      });\r\n      return false;\r\n    } else if (formData.newPassword.length < 4) {\r\n      setValidation({\r\n        newPassword: {\r\n          error: true,\r\n          errorMessage: 'New password must container atleast 8 characters.'\r\n        }\r\n      });\r\n      return false;\r\n    } else if (formData.confirmPassword === '') {\r\n      setValidation({\r\n        confirmPassword: {\r\n          error: true,\r\n          errorMessage: 'Please confirm your password.'\r\n        }\r\n      });\r\n      return false;\r\n    } else if (formData.newPassword !== formData.confirmPassword) {\r\n      setValidation({\r\n        confirmPassword: {\r\n          error: true,\r\n          errorMessage: 'Confirm password did not match.'\r\n        }\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  return (\r\n    <div className='row'>\r\n      <ToastContainer />\r\n      <div className='col-md-12'>\r\n        <div\r\n          className='form-container'\r\n          style={{\r\n            width: '70%',\r\n            margin: '0 auto',\r\n            background: '#fff',\r\n            border: '1px solid #000',\r\n            padding: '1px',\r\n            borderRadius: '5px'\r\n          }}\r\n        >\r\n          <div className='kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid'>\r\n            <div className='kt-portlet'>\r\n              <div className='kt-portlet__head'>\r\n                <div className='kt-portlet__head-label'>\r\n                  <h3 className='kt-portlet__head-title'>Change Password</h3>\r\n                </div>\r\n              </div>\r\n\r\n              <form className='kt-form kt-form--label-right' autoComplete='off'>\r\n                <div className='form-body'>\r\n                  <div className='kt-portlet__body'>\r\n                    <div className='form-group mb-4'>\r\n                      <TextField\r\n                        margin='normal'\r\n                        label='Old Password'\r\n                        className='kt-width-full'\r\n                        name='oldPassword'\r\n                        type='password'\r\n                        onChange={handleChange}\r\n                        value={formData?.oldPassword}\r\n                        helperText={validation?.oldPassword?.errorMessage}\r\n                        error={validation?.oldPassword?.error}\r\n                      />\r\n                    </div>\r\n                    <div className='form-group mb-4'>\r\n                      <TextField\r\n                        margin='normal'\r\n                        label='New Password'\r\n                        className='kt-width-full'\r\n                        name='newPassword'\r\n                        type='password'\r\n                        onChange={handleChange}\r\n                        value={formData?.newPassword}\r\n                        helperText={validation?.newPassword?.errorMessage}\r\n                        error={validation?.newPassword?.error}\r\n                      />\r\n                    </div>\r\n                    <div className='form-group mb-4'>\r\n                      <TextField\r\n                        margin='normal'\r\n                        label='Confirm Password'\r\n                        className='kt-width-full'\r\n                        name='confirmPassword'\r\n                        type='password'\r\n                        onChange={handleChange}\r\n                        value={formData?.confirmPassword}\r\n                        helperText={validation?.confirmPassword?.errorMessage}\r\n                        error={validation?.confirmPassword?.error}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n\r\n              <div className='kt-portlet__body'>\r\n                <div className='row'>\r\n                  <div className='col-md-6'></div>\r\n                  <div className='col-md-2'>\r\n                    <div className='form-group mb-4'>\r\n                      <Link to='/dashboard'>\r\n                        <Button\r\n                          type='submit'\r\n                          size='large'\r\n                          className='float-right'\r\n                          variant='contained'\r\n                          color='default'\r\n                        >\r\n                          CANCEL\r\n                        </Button>\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                  <div className='col-md-4'>\r\n                    <div className='form-group mb-4'>\r\n                      <Button\r\n                        type='submit'\r\n                        size='large'\r\n                        className='float-left'\r\n                        variant='contained'\r\n                        color='secondary'\r\n                        onClick={handleChangePassword}\r\n                      >\r\n                        CHANGE PASSWORD\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewComponent;\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport viewPassword from './passwordcomponents/ViewComponent';\r\nexport default function Business() {\r\n    return (\r\n        <Switch>\r\n\r\n            <Redirect exact={true} from=\"/\" to=\"/change-password\"/>\r\n            <Route path=\"/change-password/\" component={viewPassword} />\r\n\r\n        </Switch>\r\n    )\r\n}"],"sourceRoot":""}