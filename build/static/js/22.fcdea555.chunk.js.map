{"version":3,"sources":["app/pages/home/myaccount/passwordcomponents/ViewComponent.js","app/pages/home/myaccount/password.js"],"names":["ViewComponent","clearValidation","error","clearFormData","oldPassword","newPassword","confirmPassword","useState","formData","setformData","validation","setValidation","handleChange","e","target","name","value","validateData","errorMessage","length","className","style","width","margin","background","border","padding","borderRadius","autoComplete","TextField","label","type","onChange","helperText","to","Button","size","variant","color","onClick","changePassword","then","data","result","success","toast","message","notify","catch","Business","exact","from","path","component","viewPassword"],"mappings":"kNAyNeA,EAhNO,WAAO,IAAD,YAUrBC,EAAkB,CACtBC,OAAO,GAGFC,EAAgB,CACrBC,YAAa,GACbC,YAAa,GACbC,gBAAiB,IAjBQ,EAoBMC,mBAASJ,GApBf,mBAoBnBK,EApBmB,KAoBTC,EApBS,OAqBUF,mBAASN,GArBnB,mBAqBnBS,EArBmB,KAqBPC,EArBO,KAuBrBC,EAAe,SAACC,GACrBJ,EAAY,eACRD,EADO,eAETK,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,UAwBtBC,EAAe,WAEpB,OADAN,EAAcV,GACe,KAAzBO,EAASJ,aACZO,EAAc,CAACP,YAAc,CAC3BF,OAAO,EACPgB,aAAc,8BAGT,GAC4B,KAAzBV,EAASH,aACnBM,EAAc,CAACN,YAAc,CAC3BH,OAAO,EACPgB,aAAc,8BAGT,GACGV,EAASH,YAAYc,OAAS,GACxCR,EAAc,CAACN,YAAc,CAC3BH,OAAO,EACPgB,aAAc,wDAGT,GACgC,KAA7BV,EAASF,iBACnBK,EAAc,CAACL,gBAAkB,CAC/BJ,OAAO,EACPgB,aAAc,oCAGT,GACGV,EAASH,cAAgBG,EAASF,kBAC5CK,EAAc,CAACL,gBAAkB,CAC/BJ,OAAO,EACPgB,aAAc,sCAGT,IAMT,OACC,yBAAKE,UAAU,OACd,kBAAC,IAAD,MACG,yBAAKA,UAAU,aACjB,yBAAKA,UAAU,iBACdC,MAAO,CACNC,MAAM,MACNC,OAAO,SACPC,WAAW,OACXC,OAAQ,iBACLC,QAAS,MACZC,aAAc,QAEf,yBAAKP,UAAU,yEACd,yBAAKA,UAAU,cACd,yBAAKA,UAAU,oBACd,yBAAKA,UAAU,0BACd,wBAAIA,UAAU,0BAAd,qBAMF,0BAAMA,UAAU,+BAA+BQ,aAAa,OAC3D,yBAAKR,UAAU,aACd,yBAAKA,UAAU,oBACd,yBAAKA,UAAU,mBACd,kBAACS,EAAA,EAAD,CACCN,OAAO,SACPO,MAAM,eACNV,UAAU,gBACVL,KAAK,cACLgB,KAAK,WACLC,SAAUpB,EACVI,MAAK,OAAER,QAAF,IAAEA,OAAF,EAAEA,EAAUJ,YACjB6B,WAAU,OAAEvB,QAAF,IAAEA,GAAF,UAAEA,EAAYN,mBAAd,aAAE,EAAyBc,aACrChB,MAAK,OAAEQ,QAAF,IAAEA,GAAF,UAAEA,EAAYN,mBAAd,aAAE,EAAyBF,SAGlC,yBAAKkB,UAAU,mBACd,kBAACS,EAAA,EAAD,CACCN,OAAO,SACPO,MAAM,eACNV,UAAU,gBACVL,KAAK,cACLgB,KAAK,WACLC,SAAUpB,EACVI,MAAK,OAAER,QAAF,IAAEA,OAAF,EAAEA,EAAUH,YACjB4B,WAAU,OAAEvB,QAAF,IAAEA,GAAF,UAAEA,EAAYL,mBAAd,aAAE,EAAyBa,aACrChB,MAAK,OAAEQ,QAAF,IAAEA,GAAF,UAAEA,EAAYL,mBAAd,aAAE,EAAyBH,SAGlC,yBAAKkB,UAAU,mBACd,kBAACS,EAAA,EAAD,CACCN,OAAO,SACPO,MAAM,mBACNV,UAAU,gBACVL,KAAK,kBACLgB,KAAK,WACLC,SAAUpB,EACVI,MAAK,OAAER,QAAF,IAAEA,OAAF,EAAEA,EAAUF,gBACjB2B,WAAU,OAAEvB,QAAF,IAAEA,GAAF,UAAEA,EAAYJ,uBAAd,aAAE,EAA6BY,aACzChB,MAAK,OAAEQ,QAAF,IAAEA,GAAF,UAAEA,EAAYJ,uBAAd,aAAE,EAA6BJ,YAQzC,yBAAKkB,UAAU,oBACd,yBAAKA,UAAU,OACd,yBAAKA,UAAU,aACf,yBAAKA,UAAU,YACd,yBAAKA,UAAU,mBACd,kBAAC,OAAD,CACCc,GAAG,cAEH,kBAACC,EAAA,EAAD,CACCJ,KAAK,SACLK,KAAK,QACLhB,UAAU,cACViB,QAAQ,YACRC,MAAM,WALP,aAaH,yBAAKlB,UAAU,YACd,yBAAKA,UAAU,mBACd,kBAACe,EAAA,EAAD,CACCJ,KAAK,SACLK,KAAK,QACLhB,UAAU,aACViB,QAAQ,YACRC,MAAM,YACNC,QAhKkB,SAAC1B,GACzBI,KACAuB,YAAehC,GACJiC,MAAM,SAACC,GACkB,2BAArBA,EAAKA,KAAKC,OACbhC,EAAc,CAACP,YAAc,CACvCF,OAAO,EACPgB,aAAc,2BApCN,SAAAwB,GACPA,EAAKE,QACNC,IAAMD,QAAQF,EAAKI,SAEnBD,IAAM3C,MAAMwC,EAAKI,SAoCPC,CAAO,CAAEH,SAAS,EAAME,QAAS,kCACjCrC,EAAYN,OAEX6C,OAAM,iBA4Id,6BC/LI,SAASC,IACpB,OACI,kBAAC,IAAD,KAEI,kBAAC,IAAD,CAAUC,OAAO,EAAMC,KAAK,IAAIjB,GAAG,qBACnC,kBAAC,IAAD,CAAOkB,KAAK,oBAAoBC,UAAWC,KARvD","file":"static/js/22.fcdea555.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { getUserByToken} from '../../../../services/user.service';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Button, TextField, FormControl } from \"@material-ui/core\";\r\nimport { changePassword } from '../../../../services/user.service';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ViewComponent = () => {\r\n\r\n\tconst notify = data => {\r\n\t    if (data.success) {\r\n\t      \ttoast.success(data.message);\r\n\t    } else {\r\n\t      \ttoast.error(data.message);\r\n\t    }\r\n\t}\r\n\r\n\tconst clearValidation = {\r\n \t\terror: false\r\n \t}\r\n\r\n \tconst clearFormData = {\r\n \t\toldPassword: '',\r\n \t\tnewPassword: '',\r\n \t\tconfirmPassword: ''\r\n \t}\r\n\r\n \tconst [formData, setformData] = useState(clearFormData);\r\n \tconst [validation, setValidation] = useState(clearValidation)\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetformData({\r\n\t\t\t...formData,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tconst handleChangePassword = (e) => {\r\n\t\tif (validateData()) {\r\n   \t\t\tchangePassword(formData)\r\n                .then( (data ) => {\r\n                \tif (data.data.result === 'Password did not match') {\r\n                \t\tsetValidation({oldPassword : {\r\n\t\t\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\t\t\terrorMessage: 'Incorrect password.'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n                \t} else  {\r\n                \t\tnotify({ success: true, message: 'Changing password successful.' });\r\n                \t\tsetformData(clearFormData)\r\n                \t}\r\n                }).catch(() => {});\r\n\t\t}\r\n\t\t\r\n\t} \r\n\r\n\tconst validateData = () => {\r\n\t\tsetValidation(clearValidation);\r\n\t\tif (formData.oldPassword === '') {\r\n\t\t\tsetValidation({oldPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'This field is required.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t} else if (formData.newPassword === '') {\r\n\t\t\tsetValidation({newPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'This field is required.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false\r\n\t\t} else if (formData.newPassword.length < 4) {\r\n\t\t\tsetValidation({newPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'New password must container atleast 8 characters.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t} else if (formData.confirmPassword === '') {\r\n\t\t\tsetValidation({confirmPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'Please confirm your password.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false\r\n\t\t} else if (formData.newPassword !== formData.confirmPassword) {\r\n\t\t\tsetValidation({confirmPassword : {\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: 'Confirm password did not match.'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\t\t\r\n\r\n\treturn (\r\n\t\t<div className=\"row\">\r\n\t\t\t<ToastContainer />\r\n\t\t    <div className=\"col-md-12\">\r\n\t\t\t\t<div className=\"form-container\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth:\"70%\",\r\n\t\t\t\t\t\tmargin:\"0 auto\",\r\n\t\t\t\t\t\tbackground:\"#fff\",\r\n\t\t\t\t\t\tborder: \"1px solid #000\",\r\n    \t\t\t\t\tpadding: \"1px\",\r\n\t\t\t\t\t\tborderRadius: \"5px\"\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<div className=\"kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid\">\r\n\t\t\t\t\t\t<div className=\"kt-portlet\">\r\n\t\t\t\t\t\t\t<div className=\"kt-portlet__head\">\r\n\t\t\t\t\t\t\t\t<div className=\"kt-portlet__head-label\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"kt-portlet__head-title\">\r\n\t\t\t\t\t\t\t\t\t\tChange Password\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<form className=\"kt-form kt-form--label-right\" autoComplete=\"off\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"kt-portlet__body\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Old Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"kt-width-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"oldPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formData?.oldPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={validation?.oldPassword?.errorMessage}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={validation?.oldPassword?.error}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"New Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"kt-width-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"newPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formData?.newPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={validation?.newPassword?.errorMessage}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={validation?.newPassword?.error}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Confirm Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"kt-width-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formData?.confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\thelperText={validation?.confirmPassword?.errorMessage}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={validation?.confirmPassword?.error}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t<div className=\"kt-portlet__body\">\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6\"></div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tto=\"/dashboard\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='float-right'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCANCEL\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-4\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='float-left'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleChangePassword}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCHANGE PASSWORD\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\nexport default ViewComponent;","import React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport viewPassword from './passwordcomponents/ViewComponent';\r\nexport default function Business() {\r\n    return (\r\n        <Switch>\r\n\r\n            <Redirect exact={true} from=\"/\" to=\"/change-password\"/>\r\n            <Route path=\"/change-password/\" component={viewPassword} />\r\n\r\n        </Switch>\r\n    )\r\n}"],"sourceRoot":""}